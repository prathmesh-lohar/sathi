{% extends 'theme/base.html' %}

{% block title %}

{% endblock title %}

{% load static %}
{% block main %}

{% load custom_filters %}





<script src="{% static 'assets/js/cal.js' %}"></script>

<div class="filter-mob text-center" data-mdb-toggle="modal" data-mdb-target="#exampleModal"><span>Profile Fileter
        <span class="fa fa-filter"></span></div>

<div class="container">
    <div class="row">
        <div class="col-md-3">

            <div class="filter my-5 mx-0">

                <form action="/all_profiles" method="post">
                    {% csrf_token %}
                    <label class="form-label"><span class="fa fa-search"></span> I'm looking for</label>
                    <select name="lfor" class="form-select my-2" aria-label="Default select example">
                        <option selected>I'm looking for</option>
                        <option value="male">Men</option>
                        <option value="female">Women</option>

                    </select>
                    <label class="form-label"><span class="fa  fa-clock-o"></span> Age</label>
                    <select name="age" class="form-select my-2" aria-label="Default select example">
                        <option selected>Select Age</option>
                        <option value="1">22-30</option>
                        <option value="1">30-35</option>
                        <option value="1">35-40</option>
                        <option value="1">40-50</option>



                    </select><label class="form-label"><span class="fa fa-bell-o"></span> Select Religion</label>
                    <select name="religion" disabled class="form-select my-2" aria-label="Default select example">
                        <option selected>Religion</option>
                        <option value="1">..</option>

                    </select>
                    <label class="form-label"><span class="fa fa-globe"></span> Location</label>
                    <select name="city" class="form-select my-2" aria-label="Default select example">
                        <option selected>City</option>
                        
                        {% for c in city %}
                        <option >{{c.nameofcity}}</option>
                            
                        {% endfor %}
                            
                    </select>
                    <button class="btn btn-outline-dark w-100 my-2" type="submit">Apply Filter</button>
                </form>

            </div>
        </div>
        <div class="col-md-9 profileare">
            <div class="upper py-5">
                <div class="end">
                    <div class="d-inline head1 h5">Showing <span
                            style="font-weight: bold; font-family: roboto;">32</span>
                        Profiles</div>
                </div>
                <div class=" head1mob text-center h5">Showing <span
                        style="font-weight: bold; font-family: roboto;">32</span>
                    Profiles</div>

                <div class="end">
                    <div class="d-inline h5 float-end">
                        <div class="d-inline h5">short by :</div>
                        <select>
                            <option>Most Relative</option>
                        </select>

                        <span class="fa fa-th "></span>
                        <pan class="fa fa-bars "></pan>
                    </div>
                </div>
                <hr class="hr my-4" />
            </div>

            <div class="cardarea">

                {% for m in all_profiles %}
                <div class="card mb-3">
                    <div class=" row g-0">
                        <div class="col-md-4">
                        <a href="show_profile/{{m.user.id}}">
                            <img src="
                                
                                {% if m.user.media.dp.url %}
                                {{m.user.media.dp.url}}
                                {% else %}
                                /static/assets/images/def.jpg
                                {% endif %}
                                    
                                " alt="dp-{{m.user.first_name}}" class="img-fluid rounded-start profile-img" />
                            </a>
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">

                                <div class="like">
                                    <span class="fa fa-thumbs-o-up"></span>

                                </div>
                                <a href="show_profile/{{m.user.id}}">

                                <h5 class="card-title">{{m.user.first_name}} {{m.user.last_name}}</h5>
                                <div class="card-text text-row" >
                                <div class="row" >
                                    <div class="col">
                                        <span class="fa fa-graduation-cap"></span><span> {{m.Qualification|sort_filter}}</span>
                                    </div>
                                    <div class="col">
                                        <span class="fa fa-briefcase "></span><span> {{m.work}}</span><br>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <span class="fa fa-user"></span><span> {{m.gender}}
                                          
                                        </span>
                                    </div>
                                    <div class="col">
                                        <span class="fa fa-calendar"></span>
                                        <span>
                                        {% if m.age %}
                                        {{m.age}} Years
                                        {% else %}
                                        ---
                                        {% endif %}
                                    </span>
                                    </div>

                                   
                                </div>
                                <div class="row">
                                  
                                    <div class="col">
                                        <span class="fa fa-ring"></span><span> {{m.marrital_status}}</span>

                                    </div>

                                    <div class="col">
                                        
                                        <span class="fa fa-filter"></span> <span> Matching  {% with id=m.id cuid=request.user.profile.id %}{{ id|custom_filters:cuid }}{% endwith %}%</span> 
                                        

                                    </div>

                                    
                                  
                                </div>

                                <div class="row">
                                    <div class="col">

                                        <span class="fa fa-long-arrow-up "></span><span> {{m.height}}</span>
                                    </div>
                                    <div class="col">

                                        <span class="fa fa-location-arrow"> </span><span> {{m.city}}</span>
                                    </div>
                                </div>

                                </div>

                                </a>
                                
                                <hr class="hr" />
                                <p class="card-text">
                                    <a href="/chat/{{m.user.username}}"> <span class="tags">Chat Now</span></a>
                                    <span class="tags">watsapp</span>
                                    <span class="tags">send Interest</span>
                                    <span class="tags">more..</span>

                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}


            </div>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Profile Filer</h5>
                <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <form action="/all_profiles" method="post">
                    <label class="form-label"><span class="fa fa-search"></span> I'm looking for</label>
                    <select name="lfor" class="form-select my-2" aria-label="Default select example">
                        <option selected>I'm looking for</option>
                        <option value="1">Men</option>
                        <option value="2">Women</option>

                    </select>
                    <label  class="form-label"><span class="fa  fa-clock-o"></span> Age</label>
                    <select name="age" class="form-select my-2" aria-label="Default select example">
                        <option selected>Select Age</option>
                        <option value="1">22-30</option>
                        <option value="1">30-35</option>
                        <option value="1">35-40</option>
                        <option value="1">40-50</option>


                        {% csrf_token %}
                    </select><label class="form-label"><span class="fa fa-bell-o"></span> Select Religion</label>
                    <select name="religion" class="form-select my-2" aria-label="Default select example">
                        <option selected>Religion</option>
                        <option value="1">Any</option>

                    </select>
                    <label class="form-label"><span class="fa fa-globe"></span> Location</label>
                    <select name="city" class="form-select my-2" aria-label="Default select example">
                        <option selected>city</option>
                        
                        {% for c in city %}
                        <option >{{c.nameofcity}}</option>
                            
                        {% endfor %}
                            
                        
                    </select>

                    <button class="btn btn-outline-dark w-100 my-2" type="submit">APPLY FILTER</button>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">Close</button>
            
            </div>
        </form>

        </div>
    </div>
</div>

<style>
    a{
        color: #601e4f;
    }
    a:hover{
        color: #601e4f;

    }
</style>

{% endblock main %}